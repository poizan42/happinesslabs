(function(a){a.jqplot.LogAxisRenderer=function(){this.axisDefaults={base:10,tickDistribution:"even"}};a.jqplot.LogAxisRenderer.prototype.init=function(e){this.tickRenderer=a.jqplot.AxisTickRenderer;a.extend(true,this.renderer,e);for(var h in this.renderer.axisDefaults){if(this[h]==null){this[h]=this.renderer.axisDefaults[h]}}var b=this._dataBounds;for(var f=0;f<this._series.length;f++){var g=this._series[f];var h=g.data;for(var c=0;c<h.length;c++){if(this.name=="xaxis"||this.name=="x2axis"){if(h[c][0]>b.max||b.max==null){b.max=h[c][0]}if(h[c][0]>b.max||b.max==null){b.max=h[c][0]}}else{if(h[c][1]<b.min||b.min==null){b.min=h[c][1]}if(h[c][1]>b.max||b.max==null){b.max=h[c][1]}}}}};a.jqplot.LogAxisRenderer.prototype.draw=function(){if(this.show){this.renderer.createTicks.call(this);var g=0;var b;this._elem=a('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>');if(this.showTicks){var e=this._ticks;for(var d=0;d<e.length;d++){var c=e[d];if(c.showLabel&&(!c.isMinorTick||this.showMinorTicks)){var f=c.draw();f.appendTo(this._elem)}}}}return this._elem};a.jqplot.LogAxisRenderer.prototype.set=function(){var f=0;var b;if(this.show&&this.showTicks){var e=this._ticks;for(var d=0;d<e.length;d++){var c=e[d];if(c.showLabel&&(!c.isMinorTick||this.showMinorTicks)){if(this.name=="xaxis"||this.name=="x2axis"){b=c._elem.outerHeight(true)}else{b=c._elem.outerWidth(true)}if(b>f){f=b}}}if(this.name=="xaxis"){this._elem.css({height:f+"px",left:"0px",bottom:"0px"})}else{if(this.name=="x2axis"){this._elem.css({height:f+"px",left:"0px",top:"0px"})}else{if(this.name=="yaxis"){this._elem.css({width:f+"px",left:"0px",top:"0px"})}else{if(this.name=="y2axis"){this._elem.css({width:f+"px",right:"0px",top:"0px"})}}}}}};a.jqplot.LogAxisRenderer.prototype.createTicks=function(){var A=this._ticks;var x=this.ticks;var D=this.name;var z=this._dataBounds;var s,y;var o,v;var e,d;var b,w;if(x.length){for(w=0;w<x.length;w++){var f=x[w];var k=new this.tickRenderer(this.tickOptions);if(f.constructor==Array){k.value=f[0];k.label=f[1];if(!this.showTicks){k.showLabel=false;k.showMark=false}else{if(!this.showTickMarks){k.showMark=false}}k.setTick(f[0],this.name);this._ticks.push(k)}else{k.value=f;if(!this.showTicks){k.showLabel=false;k.showMark=false}else{if(!this.showTickMarks){k.showMark=false}}k.setTick(f,this.name);this._ticks.push(k)}}this.numberTicks=x.length;this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value}else{if(D=="xaxis"||D=="x2axis"){s=this._plotDimensions.width}else{s=this._plotDimensions.height}o=((this.min!=null)?this.min:z.min);v=((this.max!=null)?this.max:z.max);if(o==v){var g=0.05;o=o*(1-g);v=v*(1+g)}if(this.min!=null&&this.min<=0){throw ("log axis minimum must be greater than 0")}if(this.max!=null&&this.max<=0){throw ("log axis maximum must be greater than 0")}var l=v-o;var n,r;if(this.tickDistribution=="even"){n=(this.min!=null)?this.min:o-o*((this.pad-1)/2);r=(this.max!=null)?this.max:v+v*((this.pad-1)/2);this.min=n;this.max=r;l=this.max-this.min;if(this.numberTicks==null){if(s>100){this.numberTicks=parseInt(3+(s-100)/75,10)}else{this.numberTicks=2}}var h=Math.pow(this.base,(1/(this.numberTicks-1)*Math.log(this.max/this.min)/Math.log(this.base)));for(var w=0;w<this.numberTicks;w++){b=this.min*Math.pow(h,w);var k=new this.tickRenderer(this.tickOptions);if(!this.showTicks){k.showLabel=false;k.showMark=false}else{if(!this.showTickMarks){k.showMark=false}}k.setTick(b,this.name);this._ticks.push(k)}}else{if(this.tickDistribution=="power"){n=Math.pow(this.base,Math.ceil(Math.log(o*(2-this.pad))/Math.log(this.base))-1);r=Math.pow(this.base,Math.floor(Math.log(v*this.pad)/Math.log(this.base))+1);this.min=n;this.max=r;l=this.max-this.min;var q=0;var c=0;if(this.numberTicks==null){if(s>100){this.numberTicks=Math.round(Math.log(this.max/this.min)/Math.log(this.base)+1);if(this.numberTicks<2){this.numberTicks=2}q=parseInt(3+(s-100)/75,10)}else{this.numberTicks=2;q=2}if(this.numberTicks<q-1){c=Math.floor(q/this.numberTicks)}}for(var w=0;w<this.numberTicks;w++){b=Math.pow(this.base,w-this.numberTicks+1)*this.max;var k=new this.tickRenderer(this.tickOptions);if(!this.showTicks){k.showLabel=false;k.showMark=false}else{if(!this.showTickMarks){k.showMark=false}}k.setTick(b,this.name);this._ticks.push(k);if(c&&w<this.numberTicks-1){var m=Math.pow(this.base,w-this.numberTicks+2)*this.max;var B=m-b;var y=m/(c+1);for(var p=c-1;p>=0;p--){var C=m-y*(p+1);var k=new this.tickRenderer(this.tickOptions);if(!this.showTicks){k.showLabel=false;k.showMark=false}else{if(!this.showTickMarks){k.showMark=false}}k.setTick(C,this.name);this._ticks.push(k)}}}}}}};a.jqplot.LogAxisRenderer.prototype.pack=function(k,h){var d=parseInt(this.base,10);var l=this._ticks;var q=function(p){return Math.log(p)/Math.log(d)};var b=function(p){return Math.pow(Math.E,(Math.log(d)*p))};max=q(this.max);min=q(this.min);var g=h.max;var o=h.min;for(var c in k){this._elem.css(c,k[c])}this._offsets=h;var f=g-o;var n=max-min;this.p2u=function(r){return b((r-o)*n/f+min)};this.u2p=function(p){return(q(p)-min)*f/n+o};if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(p){return(q(p)-min)*f/n};this.series_p2u=function(r){return b(r*n/f+min)}}else{this.series_u2p=function(p){return(q(p)-max)*f/n};this.series_p2u=function(r){return b(r*n/f+max)}}if(this.show){if(this.name=="xaxis"||this.name=="x2axis"){for(i=0;i<l.length;i++){var m=l[i];var j=m.getWidth()/2;var e=this.u2p(m.value)-j+"px";m._elem.css("left",e)}}else{for(i=0;i<l.length;i++){var m=l[i];var j=m.getHeight()/2;var e=this.u2p(m.value)-j+"px";m._elem.css("top",e)}}}}})(jQuery);